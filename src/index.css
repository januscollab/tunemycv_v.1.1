@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Background layers */
    --background: 255 255 255;
    --background-secondary: 248 249 250;
    --background-tertiary: 241 243 245;
    --foreground: 15 23 42;
    --foreground-secondary: 71 85 105;
    --foreground-tertiary: 148 163 184;

    /* Surface colors */
    --surface: 255 255 255;
    --surface-secondary: 248 249 250;
    --surface-tertiary: 241 243 245;
    --surface-hover: 245 246 247;
    --surface-active: 238 240 242;

    /* Card & elevated surfaces */
    --card: 255 255 255;
    --card-foreground: 15 23 42;
    --card-hover: 252 253 254;
    --card-border: 226 232 240;

    /* Popover & dropdown */
    --popover: 255 255 255;
    --popover-foreground: 15 23 42;
    --popover-border: 226 232 240;

    /* Primary orange palette */
    --primary: 255 74 0;
    --primary-foreground: 255 255 255;
    --primary-50: 255 247 237;
    --primary-100: 255 237 213;
    --primary-200: 254 215 170;
    --primary-300: 253 186 116;
    --primary-400: 251 146 60;
    --primary-500: 255 74 0;
    --primary-600: 234 68 0;
    --primary-700: 194 56 0;
    --primary-800: 154 44 0;
    --primary-900: 124 35 0;

    /* Secondary cream/beige */
    --secondary: 245 245 220;
    --secondary-foreground: 15 23 42;
    --secondary-hover: 240 240 215;
    --secondary-active: 235 235 210;

    /* Muted grays */
    --muted: 248 250 252;
    --muted-foreground: 100 116 139;
    --muted-hover: 243 244 246;

    /* Accent colors */
    --accent: 248 250 252;
    --accent-foreground: 15 23 42;
    --accent-hover: 241 245 249;

    /* Status colors */
    --success: 34 197 94;
    --success-foreground: 255 255 255;
    --success-50: 240 253 244;
    --warning: 245 158 11;
    --warning-foreground: 255 255 255;
    --warning-50: 255 251 235;
    --destructive: 239 68 68;
    --destructive-foreground: 255 255 255;
    --destructive-50: 254 242 242;
    --info: 59 130 246;
    --info-foreground: 255 255 255;
    --info-50: 239 246 255;

    /* Borders & inputs */
    --border: 226 232 240;
    --border-secondary: 241 245 249;
    --input: 255 255 255;
    --input-border: 226 232 240;
    --input-focus: 255 74 0;
    --ring: 255 74 0;

    /* Interactive states */
    --hover: 248 250 252;
    --active: 241 245 249;
    --focus: 255 74 0;

    /* Sidebar */
    --sidebar-background: 255 255 255;
    --sidebar-foreground: 15 23 42;
    --sidebar-primary: 255 74 0;
    --sidebar-primary-foreground: 255 255 255;
    --sidebar-accent: 248 250 252;
    --sidebar-accent-foreground: 15 23 42;
    --sidebar-border: 226 232 240;
    --sidebar-ring: 255 74 0;

    /* Footer */
    --footer: 58 58 58;

    /* Transitions */
    --transition-fast: 150ms;
    --transition-normal: 200ms;
    --transition-slow: 300ms;

    --radius: 8px;
    --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
    --shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
    --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
    --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
  }

  .dark {
    /* Background layers - multiple depths for visual hierarchy */
    --background: 9 9 11;
    --background-secondary: 24 24 27;
    --background-tertiary: 39 39 42;
    --foreground: 250 250 250;
    --foreground-secondary: 212 212 216;
    --foreground-tertiary: 161 161 170;

    /* Surface colors - elevated surfaces with proper depth */
    --surface: 24 24 27;
    --surface-secondary: 39 39 42;
    --surface-tertiary: 52 52 56;
    --surface-hover: 63 63 70;
    --surface-active: 82 82 91;

    /* Card & elevated surfaces */
    --card: 24 24 27;
    --card-foreground: 250 250 250;
    --card-hover: 39 39 42;
    --card-border: 63 63 70;

    /* Popover & dropdown */
    --popover: 24 24 27;
    --popover-foreground: 250 250 250;
    --popover-border: 63 63 70;

    /* Primary orange palette - adjusted for dark mode */
    --primary: 255 74 0;
    --primary-foreground: 255 255 255;
    --primary-50: 124 35 0;
    --primary-100: 154 44 0;
    --primary-200: 194 56 0;
    --primary-300: 234 68 0;
    --primary-400: 255 74 0;
    --primary-500: 255 94 20;
    --primary-600: 255 114 40;
    --primary-700: 255 134 60;
    --primary-800: 255 154 80;
    --primary-900: 255 174 100;

    /* Secondary - darker adaptation */
    --secondary: 63 63 70;
    --secondary-foreground: 250 250 250;
    --secondary-hover: 82 82 91;
    --secondary-active: 100 100 111;

    /* Muted grays - proper dark mode hierarchy */
    --muted: 39 39 42;
    --muted-foreground: 161 161 170;
    --muted-hover: 52 52 56;

    /* Accent colors */
    --accent: 39 39 42;
    --accent-foreground: 250 250 250;
    --accent-hover: 52 52 56;

    /* Status colors - enhanced for dark mode */
    --success: 34 197 94;
    --success-foreground: 255 255 255;
    --success-50: 20 83 45;
    --warning: 245 158 11;
    --warning-foreground: 0 0 0;
    --warning-50: 120 53 15;
    --destructive: 248 113 113;
    --destructive-foreground: 255 255 255;
    --destructive-50: 127 29 29;
    --info: 96 165 250;
    --info-foreground: 255 255 255;
    --info-50: 30 58 138;

    /* Borders & inputs */
    --border: 63 63 70;
    --border-secondary: 82 82 91;
    --input: 24 24 27;
    --input-border: 63 63 70;
    --input-focus: 255 74 0;
    --ring: 255 74 0;

    /* Interactive states */
    --hover: 39 39 42;
    --active: 52 52 56;
    --focus: 255 74 0;

    /* Sidebar */
    --sidebar-background: 9 9 11;
    --sidebar-foreground: 250 250 250;
    --sidebar-primary: 255 74 0;
    --sidebar-primary-foreground: 255 255 255;
    --sidebar-accent: 24 24 27;
    --sidebar-accent-foreground: 250 250 250;
    --sidebar-border: 63 63 70;
    --sidebar-ring: 255 74 0;

    /* Enhanced shadows for dark mode */
    --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.3);
    --shadow: 0 1px 3px 0 rgb(0 0 0 / 0.4), 0 1px 2px -1px rgb(0 0 0 / 0.4);
    --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.4), 0 2px 4px -2px rgb(0 0 0 / 0.4);
    --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.4), 0 4px 6px -4px rgb(0 0 0 / 0.4);
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground font-sans transition-colors duration-normal;
  }

  /* Smooth transitions for theme switching */
  *,
  *::before,
  *::after {
    transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, box-shadow, transform, filter, backdrop-filter;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
    transition-duration: 200ms;
  }

  /* Reduce motion for accessibility */
  @media (prefers-reduced-motion: reduce) {
    *:not([data-radix-popper-content-wrapper]):not([data-state]):not([role="menu"]):not([role="menuitem"]):not([data-side]):not(.data-[state=open]):not(.data-[state=closed]),
    *:not([data-radix-popper-content-wrapper]):not([data-state]):not([role="menu"]):not([role="menuitem"]):not([data-side]):not(.data-[state=open]):not(.data-[state=closed])::before,
    *:not([data-radix-popper-content-wrapper]):not([data-state]):not([role="menu"]):not([role="menuitem"]):not([data-side]):not(.data-[state=open]):not(.data-[state=closed])::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }

  /* Enhanced focus indicators */
  :focus-visible {
    @apply outline-none ring-2 ring-primary ring-offset-2 ring-offset-background;
  }

  /* Smooth scrolling */
  html {
    scroll-behavior: smooth;
  }

  /* Custom scrollbar */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    @apply bg-muted;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-border rounded-md;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-border-secondary;
  }

  /* Dark mode scrollbar adjustments */
  .dark ::-webkit-scrollbar-track {
    @apply bg-surface;
  }

  .dark ::-webkit-scrollbar-thumb {
    @apply bg-border;
  }

  .dark ::-webkit-scrollbar-thumb:hover {
    @apply bg-border-secondary;
  }

  /* Menu Text Animation */
  .menu-text-animation {
    @apply relative inline-block transition-all duration-300 ease-out;
  }

  .menu-text-animation::after {
    content: '';
    @apply absolute w-full h-0.5 bottom-0 left-0 bg-primary scale-x-0 origin-bottom-right transition-transform duration-300 ease-out;
  }

  .menu-text-animation:hover::after {
    @apply scale-x-100 origin-bottom-left;
  }

  .menu-text-animation:hover {
    @apply text-primary transform translate-y-[-1px];
  }

  /* AI Context Menu Animations */
  .animate-fade-in {
    animation: fadeIn 200ms ease-out forwards;
  }

  .animate-scale-in {
    animation: scaleIn 150ms ease-out forwards;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(-8px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes scaleIn {
    from {
      opacity: 0;
      transform: scale(0.95);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  }

  /* Interactive Elements */
  .story-link {
    @apply relative inline-block after:content-[''] after:absolute after:w-full after:scale-x-0 after:h-0.5 after:bottom-0 after:left-0 after:bg-primary after:origin-bottom-right after:transition-transform after:duration-300 hover:after:scale-x-100 hover:after:origin-bottom-left;
  }

  /* Slider styling for AI creativity controls */
  .slider-thumb::-webkit-slider-thumb {
    appearance: none;
    height: 16px;
    width: 16px;
    border-radius: 50%;
    background: white;
    border: 2px solid #6366f1;
    cursor: pointer;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  }

  .slider-thumb::-moz-range-thumb {
    height: 16px;
    width: 16px;
    border-radius: 50%;
    background: white;
    border: 2px solid #6366f1;
    cursor: pointer;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  }
}
